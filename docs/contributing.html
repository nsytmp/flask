
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>如何为Flask做贡献 &#8212; Flask Documentation (1.1.x)</title>
    <link rel="stylesheet" href="_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/flask-icon.png"/>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="prev" title="执照" href="license.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="license.html" title="执照"
             accesskey="P">上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flask Documentation (1.1.x)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-contribute-to-flask">
<h1>如何为Flask做贡献<a class="headerlink" href="#how-to-contribute-to-flask" title="永久链接至标题">¶</a></h1>
<p>感谢您考虑为Flask做出贡献！</p>
<div class="section" id="support-questions">
<h2>支持问题<a class="headerlink" href="#support-questions" title="永久链接至标题">¶</a></h2>
<p>请不要使用问题跟踪器. 使用以下资源之一来解决有关您自己的代码的问题:</p>
<ul class="simple">
<li><p>FreeNode上的IRC频道``#pocoo``.</p></li>
<li><p>关于FreeNode的IRC频道``#python``用于更一般的问题.</p></li>
<li><p>邮件列表flask&#64;python.org用于长期讨论或更大的问题.</p></li>
<li><p>询问`Stack Overflow`_. 首先使用Google搜索:<code class="docutils literal notranslate"><span class="pre">site:stackoverflow.com</span> <span class="pre">flask</span> <span class="pre">{搜索词，异常消息等}</span></code></p></li>
</ul>
</div>
<div class="section" id="reporting-issues">
<h2>报告问题<a class="headerlink" href="#reporting-issues" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>描述您期望发生的事情.</p></li>
<li><p>If possible, include a <a class="reference external" href="https://stackoverflow.com/help/mcve">minimal, complete, and verifiable example</a> to help
us identify the issue. This also helps check that the issue is not with your
own code.</p></li>
<li><p>描述实际发生的事情. 如果有异常，请包括完整的回溯.</p></li>
<li><p>列出您的Python，Flask和Werkzeug版本. 如果可能，请检查存储库中是否已修复此问题.</p></li>
</ul>
</div>
<div class="section" id="submitting-patches">
<h2>提交补丁<a class="headerlink" href="#submitting-patches" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Include tests if your patch is supposed to solve a bug, and explain
clearly under which circumstances the bug happens. Make sure the test fails
without your patch.</p></li>
<li><p>尝试遵循`PEP8`_，但是你可以忽略行长度限制，如果遵循它将使代码更加丑陋.</p></li>
</ul>
<div class="section" id="first-time-setup">
<h3>第一次设置<a class="headerlink" href="#first-time-setup" title="永久链接至标题">¶</a></h3>
<ul>
<li><p>下载并安装最新版本的git`_.</p></li>
<li><p>用你的`username`_和`email`_配置git:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s1">&#39;your name&#39;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="s1">&#39;your email&#39;</span>
</pre></div>
</div>
</li>
<li><p>确保你有一个`GitHub帐户`_.</p></li>
<li><p>单击“Fork”_按钮，将Flask刻录到GitHub帐户.</p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">`</span></a>克隆`_你的GitHub本地分叉:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="p">{</span><span class="n">username</span><span class="p">}</span><span class="o">/</span><span class="n">flask</span>
<span class="n">cd</span> <span class="n">flask</span>
</pre></div>
</div>
</li>
<li><p>将主存储库添加为远程以便稍后更新:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">pallets</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pallets</span><span class="o">/</span><span class="n">flask</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">pallets</span>
</pre></div>
</div>
</li>
<li><p>创建一个virtualenv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">env</span>
<span class="o">.</span> <span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="c1"># or &quot;env\Scripts\activate&quot; on Windows</span>
</pre></div>
</div>
</li>
<li><p>以可编辑模式安装Flask并具有开发依赖性:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;.[dev]&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="start-coding">
<h3>开始编码<a class="headerlink" href="#start-coding" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p>创建一个分支以确定您想要处理的问题(例如``2287-dry-test-suite``)</p></li>
<li><p>使用您喜欢的编辑器，进行更改，“随时随地提交”.</p></li>
<li><p>尝试遵循`PEP8`_，但是你可以忽略行长度限制，如果遵循它将使代码更加丑陋.</p></li>
<li><p>包括涵盖您所做的任何代码更改的测试. 没有补丁，请确保测试失败.  <a class="reference internal" href="#contributing-testsuite">运行测试.</a>.</p></li>
<li><p>将提交推送到GitHub并“创建拉取请求”.</p></li>
<li><p>庆祝 🎉</p></li>
</ul>
</div>
<div class="section" id="running-the-tests">
<span id="contributing-testsuite"></span><h3>运行测试<a class="headerlink" href="#running-the-tests" title="永久链接至标题">¶</a></h3>
<p>运行基本测试套件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span>
</pre></div>
</div>
<p>This only runs the tests for the current environment. Whether this is relevant
depends on which part of Flask you’re working on. Travis-CI will run the full
suite when you submit your pull request.</p>
<p>The full test suite takes a long time to run because it tests multiple
combinations of Python and dependencies. You need to have Python 2.7, 3.4,
3.5 3.6, and PyPy 2.7 installed to run all of the environments. Then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span>
</pre></div>
</div>
</div>
<div class="section" id="running-test-coverage">
<h3>运行测试覆盖率<a class="headerlink" href="#running-test-coverage" title="永久链接至标题">¶</a></h3>
<p>Generating a report of lines that do not have test coverage can indicate
where to start contributing. Run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> using <code class="docutils literal notranslate"><span class="pre">coverage</span></code> and generate a
report on the terminal and as an interactive HTML document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">coverage</span> <span class="n">run</span> <span class="o">-</span><span class="n">m</span> <span class="n">pytest</span>
<span class="n">coverage</span> <span class="n">report</span>
<span class="n">coverage</span> <span class="n">html</span>
<span class="c1"># then open htmlcov/index.html</span>
</pre></div>
</div>
<p>阅读更多关于`coverage &lt;<a class="reference external" href="https://coverage.readthedocs.io">https://coverage.readthedocs.io</a>&gt;`_的信息.</p>
<p>使用``tox``运行完整的测试套件将结合所有运行的覆盖率报告.</p>
</div>
<div class="section" id="building-the-docs">
<h3>构建文档<a class="headerlink" href="#building-the-docs" title="永久链接至标题">¶</a></h3>
<p>使用Sphinx在``docs``目录中构建文档:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>在浏览器中打开``_build / html / index.html``查看文档.</p>
<p>阅读更多关于`Sphinx &lt;<a class="reference external" href="https://www.sphinx-doc.org">https://www.sphinx-doc.org</a>&gt;`_的信息.</p>
</div>
<div class="section" id="make-targets">
<h3>制定目标<a class="headerlink" href="#make-targets" title="永久链接至标题">¶</a></h3>
<p>Flask提供了一个带有各种快捷方式的``Makefile``. 他们将确保安装所有依赖项.</p>
<ul class="simple">
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>make test``使用``pytest``运行基本测试套件</p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>make cov``使用``coverage``运行基本测试套件</p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>make test-all``用``tox``运行完整的测试套件</p></li>
<li><p><a href="#id1"><span class="problematic" id="id2">``</span></a>make docs``构建HTML文档</p></li>
</ul>
</div>
</div>
<div class="section" id="caution-zero-padded-file-modes">
<h2>警告:零填充文件模式<a class="headerlink" href="#caution-zero-padded-file-modes" title="永久链接至标题">¶</a></h2>
<p>This repository contains several zero-padded file modes that may cause issues
when pushing this repository to git hosts other than GitHub. Fixing this is
destructive to the commit history, so we suggest ignoring these warnings. If it
fails to push and you’re using a self-hosted git service like GitLab, you can
turn off repository checks in the admin panel.</p>
<p>这些文件也可能在克隆时导致问题. 如果你有:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">fetch</span><span class="p">]</span>
<span class="n">fsckobjects</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">receive</span><span class="p">]</span>
<span class="n">fsckObjects</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p>在您的git配置文件中设置，克隆此存储库将失败. 唯一的解决方案是在克隆时将上述两个设置都设置为false，然后在克隆完成后将它们设置为true.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/flask-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">如何为Flask做贡献</a><ul>
<li><a class="reference internal" href="#support-questions">支持问题</a></li>
<li><a class="reference internal" href="#reporting-issues">报告问题</a></li>
<li><a class="reference internal" href="#submitting-patches">提交补丁</a><ul>
<li><a class="reference internal" href="#first-time-setup">第一次设置</a></li>
<li><a class="reference internal" href="#start-coding">开始编码</a></li>
<li><a class="reference internal" href="#running-the-tests">运行测试</a></li>
<li><a class="reference internal" href="#running-test-coverage">运行测试覆盖率</a></li>
<li><a class="reference internal" href="#building-the-docs">构建文档</a></li>
<li><a class="reference internal" href="#make-targets">制定目标</a></li>
</ul>
</li>
<li><a class="reference internal" href="#caution-zero-padded-file-modes">警告:零填充文件模式</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="license.html" title="上一章">执照</a>
          
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2010 Pallets Team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.0+/31d45d9d 创建。
    </div>

  </body>
</html>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Flask 更新日志 &#8212; Flask Documentation (1.1.x)</title>
    <link rel="stylesheet" href="_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/flask-icon.png"/>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="执照" href="license.html" />
    <link rel="prev" title="升级到较新版本" href="upgrading.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="license.html" title="执照"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="upgrading.html" title="升级到较新版本"
             accesskey="P">上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flask Documentation (1.1.x)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="flask-changelog">
<h1>Flask 更新日志<a class="headerlink" href="#flask-changelog" title="永久链接至标题">¶</a></h1>
<div class="section" id="version-1-1">
<h2>Version 1.1<a class="headerlink" href="#version-1-1" title="永久链接至标题">¶</a></h2>
<p>Unreleased</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.RequestContext.copy()</span></code> includes the current session
object in the request context copy. This prevents <code class="docutils literal notranslate"><span class="pre">session</span></code>
pointing to an out-of-date object. (<a class="reference external" href="https://github.com/pallets/flask/issues/2935">#2935</a>)</p></li>
<li><p>Using built-in RequestContext, unprintable Unicode characters in
Host header will result in a HTTP 400 response and not HTTP 500 as
previously. (<a class="reference external" href="https://github.com/pallets/flask/pull/2994">#2994</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> supports <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(在 Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PathLike</span></code></a> objects as
described in PEP 0519, to support <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#module-pathlib" title="(在 Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pathlib</span></code></a> in Python 3.
(<a class="reference external" href="https://github.com/pallets/flask/pull/3059">#3059</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> supports <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(在 Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a> partial content.
(<a class="reference external" href="https://github.com/pallets/flask/issues/2957">#2957</a>)</p></li>
</ul>
</div>
<div class="section" id="version-1-0-3">
<h2>Version 1.0.3<a class="headerlink" href="#version-1-0-3" title="永久链接至标题">¶</a></h2>
<p>Unreleased</p>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> encodes filenames as ASCII instead of Latin-1
(ISO-8859-1). This fixes compatibility with Gunicorn, which is
stricter about header encodings than PEP 3333. (<a class="reference external" href="https://github.com/pallets/flask/issues/2766">#2766</a>)</p></li>
<li><p>Allow custom CLIs using <code class="docutils literal notranslate"><span class="pre">FlaskGroup</span></code> to set the debug flag without
it always being overwritten based on environment variables.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2765">#2765</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask</span> <span class="pre">--version</span></code> outputs Werkzeug’s version and simplifies the
Python version. (<a class="reference external" href="https://github.com/pallets/flask/pull/2825">#2825</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> handles an <code class="docutils literal notranslate"><span class="pre">attachment_filename</span></code> that is a
native Python 2 string (bytes) with UTF-8 coded bytes. (<a class="reference external" href="https://github.com/pallets/flask/issues/2933">#2933</a>)</p></li>
<li><p>A catch-all error handler registered for <code class="docutils literal notranslate"><span class="pre">HTTPException</span></code> will not
handle <code class="docutils literal notranslate"><span class="pre">RoutingException</span></code>, which is used internally during
routing. This fixes the unexpected behavior that had been introduced
in 1.0. (<a class="reference external" href="https://github.com/pallets/flask/pull/2986">#2986</a>)</p></li>
</ul>
</div>
<div class="section" id="version-1-0-2">
<h2>Version 1.0.2<a class="headerlink" href="#version-1-0-2" title="永久链接至标题">¶</a></h2>
<p>Released on May 2nd 2018</p>
<ul class="simple">
<li><p>Fix more backwards compatibility issues with merging slashes between
a blueprint prefix and route. (<a class="reference external" href="https://github.com/pallets/flask/pull/2748">#2748</a>)</p></li>
<li><p>Fix error with <code class="docutils literal notranslate"><span class="pre">flask</span> <span class="pre">routes</span></code> command when there are no routes.
(<a class="reference external" href="https://github.com/pallets/flask/issues/2751">#2751</a>)</p></li>
</ul>
</div>
<div class="section" id="version-1-0-1">
<h2>Version 1.0.1<a class="headerlink" href="#version-1-0-1" title="永久链接至标题">¶</a></h2>
<p>Released on April 29th 2018</p>
<ul class="simple">
<li><p>Fix registering partials (with no <code class="docutils literal notranslate"><span class="pre">__name__</span></code>) as view functions.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2730">#2730</a>)</p></li>
<li><p>Don’t treat lists returned from view functions the same as tuples.
Only tuples are interpreted as response data. (<a class="reference external" href="https://github.com/pallets/flask/issues/2736">#2736</a>)</p></li>
<li><p>Extra slashes between a blueprint’s <code class="docutils literal notranslate"><span class="pre">url_prefix</span></code> and a route URL
are merged. This fixes some backwards compatibility issues with the
change in 1.0. (<a class="reference external" href="https://github.com/pallets/flask/issues/2731">#2731</a>, <a class="reference external" href="https://github.com/pallets/flask/issues/2742">#2742</a>)</p></li>
<li><p>Only trap <code class="docutils literal notranslate"><span class="pre">BadRequestKeyError</span></code> errors in debug mode, not all
<code class="docutils literal notranslate"><span class="pre">BadRequest</span></code> errors. This allows <code class="docutils literal notranslate"><span class="pre">abort(400)</span></code> to continue
working as expected. (<a class="reference external" href="https://github.com/pallets/flask/issues/2735">#2735</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FLASK_SKIP_DOTENV</span></code> environment variable can be set to <code class="docutils literal notranslate"><span class="pre">1</span></code>
to skip automatically loading dotenv files. (<a class="reference external" href="https://github.com/pallets/flask/issues/2722">#2722</a>)</p></li>
</ul>
</div>
<div class="section" id="version-1-0">
<h2>Version 1.0<a class="headerlink" href="#version-1-0" title="永久链接至标题">¶</a></h2>
<p>Released on April 26th 2018</p>
<ul class="simple">
<li><p><strong>Python 2.6 and 3.3 are no longer supported.</strong> (<a class="reference external" href="https://github.com/pallets/meta/issues/24">pallets/meta#24</a>)</p></li>
<li><p>Bump minimum dependency versions to the latest stable versions:
Werkzeug &gt;= 0.14, Jinja &gt;= 2.10, itsdangerous &gt;= 0.24, Click &gt;= 5.1.
(<a class="reference external" href="https://github.com/pallets/flask/issues/2586">#2586</a>)</p></li>
<li><p>Skip <a class="reference internal" href="api.html#flask.Flask.run" title="flask.Flask.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.run</span></code></a> when a Flask application is run
from the command line. This avoids some behavior that was confusing
to debug.</p></li>
<li><p>Change the default for <a class="reference internal" href="config.html#JSONIFY_PRETTYPRINT_REGULAR" title="JSONIFY_PRETTYPRINT_REGULAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">JSONIFY_PRETTYPRINT_REGULAR</span></code></a> to
<code class="docutils literal notranslate"><span class="pre">False</span></code>. <a class="reference internal" href="api.html#flask.json.jsonify" title="flask.json.jsonify"><code class="xref py py-func docutils literal notranslate"><span class="pre">jsonify()</span></code></a> returns a compact format by
default, and an indented format in debug mode. (<a class="reference external" href="https://github.com/pallets/flask/pull/2193">#2193</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.__init__</span></code></a> accepts the <code class="docutils literal notranslate"><span class="pre">host_matching</span></code>
argument and sets it on <a class="reference internal" href="api.html#flask.Flask.url_map" title="flask.Flask.url_map"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url_map</span></code></a>. (<a class="reference external" href="https://github.com/pallets/flask/issues/1559">#1559</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.__init__</span></code></a> accepts the <code class="docutils literal notranslate"><span class="pre">static_host</span></code> argument
and passes it as the <code class="docutils literal notranslate"><span class="pre">host</span></code> argument when defining the static
route. (<a class="reference external" href="https://github.com/pallets/flask/issues/1559">#1559</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> supports Unicode in <code class="docutils literal notranslate"><span class="pre">attachment_filename</span></code>.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2223">#2223</a>)</p></li>
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">_scheme</span></code> argument from <a class="reference internal" href="api.html#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">url_for()</span></code></a> to
<a class="reference internal" href="api.html#flask.Flask.handle_url_build_error" title="flask.Flask.handle_url_build_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_url_build_error()</span></code></a>. (<a class="reference external" href="https://github.com/pallets/flask/pull/2017">#2017</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a> accepts the
<code class="docutils literal notranslate"><span class="pre">provide_automatic_options</span></code> argument to disable adding the
<code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> method. (<a class="reference external" href="https://github.com/pallets/flask/pull/1489">#1489</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.views.MethodView" title="flask.views.MethodView"><code class="xref py py-class docutils literal notranslate"><span class="pre">MethodView</span></code></a> subclasses inherit method handlers from
base classes. (<a class="reference external" href="https://github.com/pallets/flask/pull/1936">#1936</a>)</p></li>
<li><p>Errors caused while opening the session at the beginning of the
request are handled by the app’s error handlers. (<a class="reference external" href="https://github.com/pallets/flask/pull/2254">#2254</a>)</p></li>
<li><p>Blueprints gained <a class="reference internal" href="api.html#flask.Blueprint.json_encoder" title="flask.Blueprint.json_encoder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">json_encoder</span></code></a> and
<a class="reference internal" href="api.html#flask.Blueprint.json_decoder" title="flask.Blueprint.json_decoder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">json_decoder</span></code></a> attributes to override the app’s
encoder and decoder. (<a class="reference external" href="https://github.com/pallets/flask/pull/1898">#1898</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.make_response" title="flask.Flask.make_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.make_response()</span></code></a> raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> for bad response types. The error messages have been
improved to describe why the type is invalid. (<a class="reference external" href="https://github.com/pallets/flask/pull/2256">#2256</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">routes</span></code> CLI command to output routes registered on the
application. (<a class="reference external" href="https://github.com/pallets/flask/pull/2259">#2259</a>)</p></li>
<li><p>Show warning when session cookie domain is a bare hostname or an IP
address, as these may not behave properly in some browsers, such as
Chrome. (<a class="reference external" href="https://github.com/pallets/flask/pull/2282">#2282</a>)</p></li>
<li><p>Allow IP address as exact session cookie domain. (<a class="reference external" href="https://github.com/pallets/flask/pull/2282">#2282</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_DOMAIN</span></code> is set if it is detected through
<code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>. (<a class="reference external" href="https://github.com/pallets/flask/pull/2282">#2282</a>)</p></li>
<li><p>Auto-detect zero-argument app factory called <code class="docutils literal notranslate"><span class="pre">create_app</span></code> or
<code class="docutils literal notranslate"><span class="pre">make_app</span></code> from <code class="docutils literal notranslate"><span class="pre">FLASK_APP</span></code>. (<a class="reference external" href="https://github.com/pallets/flask/pull/2297">#2297</a>)</p></li>
<li><p>Factory functions are not required to take a <code class="docutils literal notranslate"><span class="pre">script_info</span></code>
parameter to work with the <code class="docutils literal notranslate"><span class="pre">flask</span></code> command. If they take a single
parameter or a parameter named <code class="docutils literal notranslate"><span class="pre">script_info</span></code>, the
<a class="reference internal" href="api.html#flask.cli.ScriptInfo" title="flask.cli.ScriptInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScriptInfo</span></code></a> object will be passed. (<a class="reference external" href="https://github.com/pallets/flask/pull/2319">#2319</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FLASK_APP</span></code> can be set to an app factory, with arguments if
needed, for example <code class="docutils literal notranslate"><span class="pre">FLASK_APP=myproject.app:create_app('dev')</span></code>.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2326">#2326</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FLASK_APP</span></code> can point to local packages that are not installed in
editable mode, although <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span></code> is still preferred.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2414">#2414</a>)</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.views.View" title="flask.views.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code></a> class attribute
<a class="reference internal" href="api.html#flask.views.View.provide_automatic_options" title="flask.views.View.provide_automatic_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">provide_automatic_options</span></code></a> is set in
<a class="reference internal" href="api.html#flask.views.View.as_view" title="flask.views.View.as_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_view()</span></code></a>, to be detected by
<a class="reference internal" href="api.html#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a>. (<a class="reference external" href="https://github.com/pallets/flask/pull/2316">#2316</a>)</p></li>
<li><p>Error handling will try handlers registered for <code class="docutils literal notranslate"><span class="pre">blueprint,</span> <span class="pre">code</span></code>,
<code class="docutils literal notranslate"><span class="pre">app,</span> <span class="pre">code</span></code>, <code class="docutils literal notranslate"><span class="pre">blueprint,</span> <span class="pre">exception</span></code>, <code class="docutils literal notranslate"><span class="pre">app,</span> <span class="pre">exception</span></code>.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2314">#2314</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cookie</span></code> is added to the response’s <code class="docutils literal notranslate"><span class="pre">Vary</span></code> header if the session
is accessed at all during the request (and not deleted). (<a class="reference external" href="https://github.com/pallets/flask/pull/2288">#2288</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code></a> accepts <code class="docutils literal notranslate"><span class="pre">subdomain</span></code> and
<code class="docutils literal notranslate"><span class="pre">url_scheme</span></code> arguments for use when building the base URL.
(<a class="reference external" href="https://github.com/pallets/flask/pull/1621">#1621</a>)</p></li>
<li><p>Set <a class="reference internal" href="config.html#APPLICATION_ROOT" title="APPLICATION_ROOT"><code class="xref py py-data docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code></a> to <code class="docutils literal notranslate"><span class="pre">'/'</span></code> by default. This was already
the implicit default when it was set to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><a class="reference internal" href="config.html#TRAP_BAD_REQUEST_ERRORS" title="TRAP_BAD_REQUEST_ERRORS"><code class="xref py py-data docutils literal notranslate"><span class="pre">TRAP_BAD_REQUEST_ERRORS</span></code></a> is enabled by default in debug mode.
<code class="docutils literal notranslate"><span class="pre">BadRequestKeyError</span></code> has a message with the bad key in debug mode
instead of the generic bad request message. (<a class="reference external" href="https://github.com/pallets/flask/pull/2348">#2348</a>)</p></li>
<li><p>Allow registering new tags with
<a class="reference internal" href="api.html#flask.json.tag.TaggedJSONSerializer" title="flask.json.tag.TaggedJSONSerializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaggedJSONSerializer</span></code></a> to support storing other
types in the session cookie. (<a class="reference external" href="https://github.com/pallets/flask/pull/2352">#2352</a>)</p></li>
<li><p>Only open the session if the request has not been pushed onto the
context stack yet. This allows <a class="reference internal" href="api.html#flask.stream_with_context" title="flask.stream_with_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">stream_with_context()</span></code></a>
generators to access the same session that the containing view uses.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2354">#2354</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">json</span></code> keyword argument for the test client request methods.
This will dump the given object as JSON and set the appropriate
content type. (<a class="reference external" href="https://github.com/pallets/flask/pull/2358">#2358</a>)</p></li>
<li><p>Extract JSON handling to a mixin applied to both the
<a class="reference internal" href="api.html#flask.Request" title="flask.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> and <a class="reference internal" href="api.html#flask.Response" title="flask.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> classes. This adds the
<a class="reference internal" href="api.html#flask.Response.is_json" title="flask.Response.is_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_json()</span></code></a> and <a class="reference internal" href="api.html#flask.Response.get_json" title="flask.Response.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_json()</span></code></a> methods to
the response to make testing JSON response much easier. (<a class="reference external" href="https://github.com/pallets/flask/pull/2358">#2358</a>)</p></li>
<li><p>Removed error handler caching because it caused unexpected results
for some exception inheritance hierarchies. Register handlers
explicitly for each exception if you want to avoid traversing the
MRO. (<a class="reference external" href="https://github.com/pallets/flask/pull/2362">#2362</a>)</p></li>
<li><p>Fix incorrect JSON encoding of aware, non-UTC datetimes. (<a class="reference external" href="https://github.com/pallets/flask/pull/2374">#2374</a>)</p></li>
<li><p>Template auto reloading will honor debug mode even even if
<a class="reference internal" href="api.html#flask.Flask.jinja_env" title="flask.Flask.jinja_env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">jinja_env</span></code></a> was already accessed. (<a class="reference external" href="https://github.com/pallets/flask/pull/2373">#2373</a>)</p></li>
<li><p>The following old deprecated code was removed. (<a class="reference external" href="https://github.com/pallets/flask/issues/2385">#2385</a>)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.ext</span></code> - import extensions directly by their name instead
of through the <code class="docutils literal notranslate"><span class="pre">flask.ext</span></code> namespace. For example,
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">flask.ext.sqlalchemy</span></code> becomes
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">flask_sqlalchemy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Flask.init_jinja_globals</span></code> - extend
<a class="reference internal" href="api.html#flask.Flask.create_jinja_environment" title="flask.Flask.create_jinja_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.create_jinja_environment()</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Flask.error_handlers</span></code> - tracked by
<a class="reference internal" href="api.html#flask.Flask.error_handler_spec" title="flask.Flask.error_handler_spec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.error_handler_spec</span></code></a>, use <a class="reference internal" href="api.html#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.errorhandler()</span></code></a>
to register handlers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Flask.request_globals_class</span></code> - use
<a class="reference internal" href="api.html#flask.Flask.app_ctx_globals_class" title="flask.Flask.app_ctx_globals_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.app_ctx_globals_class</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Flask.static_path</span></code> - use <a class="reference internal" href="api.html#flask.Flask.static_url_path" title="flask.Flask.static_url_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.static_url_path</span></code></a>
instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Request.module</span></code> - use <a class="reference internal" href="api.html#flask.Request.blueprint" title="flask.Request.blueprint"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.blueprint</span></code></a> instead.</p></li>
</ul>
</li>
<li><p>The <a class="reference internal" href="api.html#flask.Request.json" title="flask.Request.json"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.json</span></code></a> property is no longer deprecated.
(<a class="reference external" href="https://github.com/pallets/flask/issues/1421">#1421</a>)</p></li>
<li><p>Support passing a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/0.15.x/test/#werkzeug.test.EnvironBuilder" title="(在 Werkzeug v0.15.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a> or
<code class="docutils literal notranslate"><span class="pre">dict</span></code> to <a class="reference external" href="https://werkzeug.palletsprojects.com/en/0.15.x/test/#werkzeug.test.Client.open" title="(在 Werkzeug v0.15.x)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_client.open</span></code></a>.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2412">#2412</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">flask</span></code> command and <a class="reference internal" href="api.html#flask.Flask.run" title="flask.Flask.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.run()</span></code></a> will load environment
variables from <code class="docutils literal notranslate"><span class="pre">.env</span></code> and <code class="docutils literal notranslate"><span class="pre">.flaskenv</span></code> files if python-dotenv is
installed. (<a class="reference external" href="https://github.com/pallets/flask/pull/2416">#2416</a>)</p></li>
<li><p>When passing a full URL to the test client, the scheme in the URL is
used instead of <a class="reference internal" href="config.html#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code class="xref py py-data docutils literal notranslate"><span class="pre">PREFERRED_URL_SCHEME</span></code></a>. (<a class="reference external" href="https://github.com/pallets/flask/pull/2430">#2430</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.logger" title="flask.Flask.logger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.logger</span></code></a> has been simplified. <code class="docutils literal notranslate"><span class="pre">LOGGER_NAME</span></code> and
<code class="docutils literal notranslate"><span class="pre">LOGGER_HANDLER_POLICY</span></code> config was removed. The logger is always
named <code class="docutils literal notranslate"><span class="pre">flask.app</span></code>. The level is only set on first access, it
doesn’t check <a class="reference internal" href="api.html#flask.Flask.debug" title="flask.Flask.debug"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.debug</span></code></a> each time. Only one format is
used, not different ones depending on <a class="reference internal" href="api.html#flask.Flask.debug" title="flask.Flask.debug"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.debug</span></code></a>. No
handlers are removed, and a handler is only added if no handlers are
already configured. (<a class="reference external" href="https://github.com/pallets/flask/pull/2436">#2436</a>)</p></li>
<li><p>Blueprint view function names may not contain dots. (<a class="reference external" href="https://github.com/pallets/flask/pull/2450">#2450</a>)</p></li>
<li><p>Fix a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> caused by invalid <code class="docutils literal notranslate"><span class="pre">Range</span></code> requests in some
cases. (<a class="reference external" href="https://github.com/pallets/flask/issues/2526">#2526</a>)</p></li>
<li><p>The development server uses threads by default. (<a class="reference external" href="https://github.com/pallets/flask/pull/2529">#2529</a>)</p></li>
<li><p>Loading config files with <code class="docutils literal notranslate"><span class="pre">silent=True</span></code> will ignore
<a class="reference external" href="https://docs.python.org/3/library/errno.html#errno.ENOTDIR" title="(在 Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ENOTDIR</span></code></a> errors. (<a class="reference external" href="https://github.com/pallets/flask/pull/2581">#2581</a>)</p></li>
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">--cert</span></code> and <code class="docutils literal notranslate"><span class="pre">--key</span></code> options to <code class="docutils literal notranslate"><span class="pre">flask</span> <span class="pre">run</span></code> to run the
development server over HTTPS. (<a class="reference external" href="https://github.com/pallets/flask/pull/2606">#2606</a>)</p></li>
<li><p>Added <a class="reference internal" href="config.html#SESSION_COOKIE_SAMESITE" title="SESSION_COOKIE_SAMESITE"><code class="xref py py-data docutils literal notranslate"><span class="pre">SESSION_COOKIE_SAMESITE</span></code></a> to control the <code class="docutils literal notranslate"><span class="pre">SameSite</span></code>
attribute on the session cookie. (<a class="reference external" href="https://github.com/pallets/flask/pull/2607">#2607</a>)</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Flask.test_cli_runner" title="flask.Flask.test_cli_runner"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_cli_runner()</span></code></a> to create a Click runner
that can invoke Flask CLI commands for testing. (<a class="reference external" href="https://github.com/pallets/flask/pull/2636">#2636</a>)</p></li>
<li><p>Subdomain matching is disabled by default and setting
<a class="reference internal" href="config.html#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a> does not implicitly enable it. It can be enabled
by passing <code class="docutils literal notranslate"><span class="pre">subdomain_matching=True</span></code> to the <code class="docutils literal notranslate"><span class="pre">Flask</span></code> constructor.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2635">#2635</a>)</p></li>
<li><p>A single trailing slash is stripped from the blueprint
<code class="docutils literal notranslate"><span class="pre">url_prefix</span></code> when it is registered with the app. (<a class="reference external" href="https://github.com/pallets/flask/pull/2629">#2629</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Request.get_json()</span></code></a> doesn’t cache the
result if parsing fails when <code class="docutils literal notranslate"><span class="pre">silent</span></code> is true. (<a class="reference external" href="https://github.com/pallets/flask/issues/2651">#2651</a>)</p></li>
<li><p><a class="reference internal" href="api.html#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">Request.get_json()</span></code></a> no longer accepts arbitrary encodings.
Incoming JSON should be encoded using UTF-8 per <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc8259.html"><strong>RFC 8259</strong></a>, but
Flask will autodetect UTF-8, -16, or -32. (<a class="reference external" href="https://github.com/pallets/flask/pull/2691">#2691</a>)</p></li>
<li><p>Added <a class="reference internal" href="config.html#MAX_COOKIE_SIZE" title="MAX_COOKIE_SIZE"><code class="xref py py-data docutils literal notranslate"><span class="pre">MAX_COOKIE_SIZE</span></code></a> and <a class="reference internal" href="api.html#flask.Response.max_cookie_size" title="flask.Response.max_cookie_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.max_cookie_size</span></code></a>
to control when Werkzeug warns about large cookies that browsers may
ignore. (<a class="reference external" href="https://github.com/pallets/flask/pull/2693">#2693</a>)</p></li>
<li><p>Updated documentation theme to make docs look better in small
windows. (<a class="reference external" href="https://github.com/pallets/flask/pull/2709">#2709</a>)</p></li>
<li><p>Rewrote the tutorial docs and example project to take a more
structured approach to help new users avoid common pitfalls.
(<a class="reference external" href="https://github.com/pallets/flask/pull/2676">#2676</a>)</p></li>
</ul>
</div>
<div class="section" id="version-0-12-4">
<h2>Version 0.12.4<a class="headerlink" href="#version-0-12-4" title="永久链接至标题">¶</a></h2>
<p>Released on April 29 2018</p>
<ul class="simple">
<li><p>Repackage 0.12.3 to fix package layout issue. (<a class="reference external" href="https://github.com/pallets/flask/issues/2728">#2728</a>)</p></li>
</ul>
</div>
<div class="section" id="version-0-12-3">
<h2>Version 0.12.3<a class="headerlink" href="#version-0-12-3" title="永久链接至标题">¶</a></h2>
<p>Released on April 26th 2018</p>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">Request.get_json()</span></code></a> no longer accepts arbitrary encodings.
Incoming JSON should be encoded using UTF-8 per <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc8259.html"><strong>RFC 8259</strong></a>, but
Flask will autodetect UTF-8, -16, or -32. (<a class="reference external" href="https://github.com/pallets/flask/issues/2692">#2692</a>)</p></li>
<li><p>Fix a Python warning about imports when using <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">flask</span></code>.
(<a class="reference external" href="https://github.com/pallets/flask/issues/2666">#2666</a>)</p></li>
<li><p>Fix a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> caused by invalid <code class="docutils literal notranslate"><span class="pre">Range</span></code> requests in some
cases.</p></li>
</ul>
</div>
<div class="section" id="version-0-12-2">
<h2>Version 0.12.2<a class="headerlink" href="#version-0-12-2" title="永久链接至标题">¶</a></h2>
<p>Released on May 16 2017</p>
<ul class="simple">
<li><p>Fix a bug in <cite>safe_join</cite> on Windows.</p></li>
</ul>
</div>
<div class="section" id="version-0-12-1">
<h2>Version 0.12.1<a class="headerlink" href="#version-0-12-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on March 31st 2017</p>
<ul class="simple">
<li><p>Prevent <cite>flask run</cite> from showing a NoAppException when an ImportError occurs
within the imported application module.</p></li>
<li><p>Fix encoding behavior of <code class="docutils literal notranslate"><span class="pre">app.config.from_pyfile</span></code> for Python 3. Fix
<code class="docutils literal notranslate"><span class="pre">#2118</span></code>.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> config if it is present as default values for
<code class="docutils literal notranslate"><span class="pre">app.run</span></code>. <code class="docutils literal notranslate"><span class="pre">#2109</span></code>, <code class="docutils literal notranslate"><span class="pre">#2152</span></code></p></li>
<li><p>Call <cite>ctx.auto_pop</cite> with the exception object instead of <cite>None</cite>, in the
event that a <cite>BaseException</cite> such as <cite>KeyboardInterrupt</cite> is raised in a
request handler.</p></li>
</ul>
</div>
<div class="section" id="version-0-12">
<h2>Version 0.12<a class="headerlink" href="#version-0-12" title="永久链接至标题">¶</a></h2>
<p>Released on December 21st 2016, codename Punsch.</p>
<ul class="simple">
<li><p>the cli command now responds to <cite>–version</cite>.</p></li>
<li><p>Mimetype guessing and ETag generation for file-like objects in <code class="docutils literal notranslate"><span class="pre">send_file</span></code>
has been removed, as per issue <code class="docutils literal notranslate"><span class="pre">#104</span></code>. (<a class="reference external" href="https://github.com/pallets/flask/pull/1849">#1849</a>)</p></li>
<li><p>Mimetype guessing in <code class="docutils literal notranslate"><span class="pre">send_file</span></code> now fails loudly and doesn’t fall back to
<code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code>. (<a class="reference external" href="https://github.com/pallets/flask/pull/1988">#1988</a>)</p></li>
<li><p>Make <code class="docutils literal notranslate"><span class="pre">flask.safe_join</span></code> able to join multiple paths like <code class="docutils literal notranslate"><span class="pre">os.path.join</span></code>
(<a class="reference external" href="https://github.com/pallets/flask/pull/1730">#1730</a>).</p></li>
<li><p>Revert a behavior change that made the dev server crash instead of returning
an Internal Server Error (<a class="reference external" href="https://github.com/pallets/flask/pull/2006">#2006</a>).</p></li>
<li><p>Correctly invoke response handlers for both regular request dispatching as
well as error handlers.</p></li>
<li><p>Disable logger propagation by default for the app logger.</p></li>
<li><p>Add support for range requests in <code class="docutils literal notranslate"><span class="pre">send_file</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app.test_client</span></code> includes preset default environment, which can now be
directly set, instead of per <code class="docutils literal notranslate"><span class="pre">client.get</span></code>.</p></li>
</ul>
</div>
<div class="section" id="version-0-11-2">
<h2>Version 0.11.2<a class="headerlink" href="#version-0-11-2" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, unreleased</p>
<ul class="simple">
<li><p>Fix crash when running under PyPy3. (<a class="reference external" href="https://github.com/pallets/flask/pull/1814">#1814</a>)</p></li>
</ul>
</div>
<div class="section" id="version-0-11-1">
<h2>Version 0.11.1<a class="headerlink" href="#version-0-11-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on June 7th 2016.</p>
<ul class="simple">
<li><p>Fixed a bug that prevented <code class="docutils literal notranslate"><span class="pre">FLASK_APP=foobar/__init__.py</span></code> from working. (<a class="reference external" href="https://github.com/pallets/flask/pull/1872">#1872</a>)</p></li>
</ul>
</div>
<div class="section" id="version-0-11">
<h2>Version 0.11<a class="headerlink" href="#version-0-11" title="永久链接至标题">¶</a></h2>
<p>Released on May 29th 2016, codename Absinthe.</p>
<ul class="simple">
<li><p>Added support to serializing top-level arrays to <code class="xref py py-func docutils literal notranslate"><span class="pre">flask.jsonify()</span></code>. This
introduces a security risk in ancient browsers. See
<a class="reference internal" href="security.html#json-security"><span class="std std-ref">JSON Security</span></a> for details.</p></li>
<li><p>Added before_render_template signal.</p></li>
<li><p>Added <cite>**kwargs</cite> to <code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Test.test_client()</span></code> to support passing
additional keyword arguments to the constructor of
<a class="reference internal" href="api.html#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.test_client_class</span></code></a>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">SESSION_REFRESH_EACH_REQUEST</span></code> config key that controls the
set-cookie behavior.  If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> a permanent session will be
refreshed each request and get their lifetime extended, if set to
<code class="docutils literal notranslate"><span class="pre">False</span></code> it will only be modified if the session actually modifies.
Non permanent sessions are not affected by this and will always
expire if the browser window closes.</p></li>
<li><p>Made Flask support custom JSON mimetypes for incoming data.</p></li>
<li><p>Added support for returning tuples in the form <code class="docutils literal notranslate"><span class="pre">(response,</span> <span class="pre">headers)</span></code>
from a view function.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Config.from_json" title="flask.Config.from_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Config.from_json()</span></code></a>.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Flask.config_class" title="flask.Flask.config_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.config_class</span></code></a>.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Config.get_namespace" title="flask.Config.get_namespace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Config.get_namespace()</span></code></a>.</p></li>
<li><p>Templates are no longer automatically reloaded outside of debug mode. This
can be configured with the new <code class="docutils literal notranslate"><span class="pre">TEMPLATES_AUTO_RELOAD</span></code> config key.</p></li>
<li><p>Added a workaround for a limitation in Python 3.3’s namespace loader.</p></li>
<li><p>Added support for explicit root paths when using Python 3.3’s namespace
packages.</p></li>
<li><p>Added <strong class="command">flask</strong> and the <code class="docutils literal notranslate"><span class="pre">flask.cli</span></code> module to start the local
debug server through the click CLI system.  This is recommended over the old
<code class="docutils literal notranslate"><span class="pre">flask.run()</span></code> method as it works faster and more reliable due to a
different design and also replaces <code class="docutils literal notranslate"><span class="pre">Flask-Script</span></code>.</p></li>
<li><p>Error handlers that match specific classes are now checked first,
thereby allowing catching exceptions that are subclasses of HTTP
exceptions (in <code class="docutils literal notranslate"><span class="pre">werkzeug.exceptions</span></code>).  This makes it possible
for an extension author to create exceptions that will by default
result in the HTTP error of their choosing, but may be caught with
a custom error handler if desired.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Config.from_mapping" title="flask.Config.from_mapping"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Config.from_mapping()</span></code></a>.</p></li>
<li><p>Flask will now log by default even if debug is disabled.  The log format is
now hardcoded but the default log handling can be disabled through the
<code class="docutils literal notranslate"><span class="pre">LOGGER_HANDLER_POLICY</span></code> configuration key.</p></li>
<li><p>Removed deprecated module functionality.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">EXPLAIN_TEMPLATE_LOADING</span></code> config flag which when enabled will
instruct Flask to explain how it locates templates.  This should help
users debug when the wrong templates are loaded.</p></li>
<li><p>Enforce blueprint handling in the order they were registered for template
loading.</p></li>
<li><p>Ported test suite to py.test.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">request.json</span></code> in favour of <code class="docutils literal notranslate"><span class="pre">request.get_json()</span></code>.</p></li>
<li><p>Add “pretty” and “compressed” separators definitions in jsonify() method.
Reduces JSON response size when JSONIFY_PRETTYPRINT_REGULAR=False by removing
unnecessary white space included by default after separators.</p></li>
<li><p>JSON responses are now terminated with a newline character, because it is a
convention that UNIX text files end with a newline and some clients don’t
deal well when this newline is missing. See
<a class="reference external" href="https://github.com/pallets/flask/pull/1262">https://github.com/pallets/flask/pull/1262</a> – this came up originally as a
part of <a class="reference external" href="https://github.com/kennethreitz/httpbin/issues/168">https://github.com/kennethreitz/httpbin/issues/168</a></p></li>
<li><p>The automatically provided <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> method is now correctly disabled if
the user registered an overriding rule with the lowercase-version
<code class="docutils literal notranslate"><span class="pre">options</span></code> (issue <code class="docutils literal notranslate"><span class="pre">#1288</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.json.jsonify</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> type (<a class="reference external" href="https://github.com/pallets/flask/pull/1326">#1326</a>).</p></li>
<li><p>Don’t leak exception info of already catched exceptions to context teardown
handlers (<a class="reference external" href="https://github.com/pallets/flask/pull/1393">#1393</a>).</p></li>
<li><p>Allow custom Jinja environment subclasses (<a class="reference external" href="https://github.com/pallets/flask/pull/1422">#1422</a>).</p></li>
<li><p>Updated extension dev guidelines.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.g</span></code> now has <code class="docutils literal notranslate"><span class="pre">pop()</span></code> and <code class="docutils literal notranslate"><span class="pre">setdefault</span></code> methods.</p></li>
<li><p>Turn on autoescape for <code class="docutils literal notranslate"><span class="pre">flask.templating.render_template_string</span></code> by default
(<a class="reference external" href="https://github.com/pallets/flask/pull/1515">#1515</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.ext</span></code> is now deprecated (<a class="reference external" href="https://github.com/pallets/flask/pull/1484">#1484</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">send_from_directory</span></code> now raises BadRequest if the filename is invalid on
the server OS (<a class="reference external" href="https://github.com/pallets/flask/pull/1763">#1763</a>).</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">JSONIFY_MIMETYPE</span></code> configuration variable (<a class="reference external" href="https://github.com/pallets/flask/pull/1728">#1728</a>).</p></li>
<li><p>Exceptions during teardown handling will no longer leave bad application
contexts lingering around.</p></li>
</ul>
</div>
<div class="section" id="version-0-10-2">
<h2>Version 0.10.2<a class="headerlink" href="#version-0-10-2" title="永久链接至标题">¶</a></h2>
<p>(bugfix release, release date to be announced)</p>
<ul class="simple">
<li><p>Fixed broken <cite>test_appcontext_signals()</cite> test case.</p></li>
<li><p>Raise an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(在 Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> in <code class="xref py py-func docutils literal notranslate"><span class="pre">flask.helpers.find_package()</span></code> with a
useful message explaining why it is raised when a PEP 302 import hook is used
without an <cite>is_package()</cite> method.</p></li>
<li><p>Fixed an issue causing exceptions raised before entering a request or app
context to be passed to teardown handlers.</p></li>
<li><p>Fixed an issue with query parameters getting removed from requests in
the test client when absolute URLs were requested.</p></li>
<li><p>Made <cite>&#64;before_first_request</cite> into a decorator as intended.</p></li>
<li><p>Fixed an etags bug when sending a file streams with a name.</p></li>
<li><p>Fixed <cite>send_from_directory</cite> not expanding to the application root path
correctly.</p></li>
<li><p>Changed logic of before first request handlers to flip the flag after
invoking.  This will allow some uses that are potentially dangerous but
should probably be permitted.</p></li>
<li><p>Fixed Python 3 bug when a handler from <cite>app.url_build_error_handlers</cite>
reraises the <cite>BuildError</cite>.</p></li>
</ul>
</div>
<div class="section" id="version-0-10-1">
<h2>Version 0.10.1<a class="headerlink" href="#version-0-10-1" title="永久链接至标题">¶</a></h2>
<p>(bugfix release, released on June 14th 2013)</p>
<ul class="simple">
<li><p>Fixed an issue where <code class="docutils literal notranslate"><span class="pre">|tojson</span></code> was not quoting single quotes which
made the filter not work properly in HTML attributes.  Now it’s
possible to use that filter in single quoted attributes.  This should
make using that filter with angular.js easier.</p></li>
<li><p>Added support for byte strings back to the session system.  This broke
compatibility with the common case of people putting binary data for
token verification into the session.</p></li>
<li><p>Fixed an issue where registering the same method twice for the same endpoint
would trigger an exception incorrectly.</p></li>
</ul>
</div>
<div class="section" id="version-0-10">
<h2>Version 0.10<a class="headerlink" href="#version-0-10" title="永久链接至标题">¶</a></h2>
<p>Released on June 13th 2013, codename Limoncello.</p>
<ul class="simple">
<li><p>Changed default cookie serialization format from pickle to JSON to
limit the impact an attacker can do if the secret key leaks.  See
<a class="reference internal" href="upgrading.html#upgrading-to-010"><span class="std std-ref">Version 0.10</span></a> for more information.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">template_test</span></code> methods in addition to the already existing
<code class="docutils literal notranslate"><span class="pre">template_filter</span></code> method family.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">template_global</span></code> methods in addition to the already existing
<code class="docutils literal notranslate"><span class="pre">template_filter</span></code> method family.</p></li>
<li><p>Set the content-length header for x-sendfile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tojson</span></code> filter now does not escape script blocks in HTML5 parsers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tojson</span></code> used in templates is now safe by default due.  This was
allowed due to the different escaping behavior.</p></li>
<li><p>Flask will now raise an error if you attempt to register a new function
on an already used endpoint.</p></li>
<li><p>Added wrapper module around simplejson and added default serialization
of datetime objects.  This allows much easier customization of how
JSON is handled by Flask or any Flask extension.</p></li>
<li><p>Removed deprecated internal <code class="docutils literal notranslate"><span class="pre">flask.session</span></code> module alias.  Use
<code class="docutils literal notranslate"><span class="pre">flask.sessions</span></code> instead to get the session module.  This is not to
be confused with <code class="docutils literal notranslate"><span class="pre">flask.session</span></code> the session proxy.</p></li>
<li><p>Templates can now be rendered without request context.  The behavior is
slightly different as the <code class="docutils literal notranslate"><span class="pre">request</span></code>, <code class="docutils literal notranslate"><span class="pre">session</span></code> and <code class="docutils literal notranslate"><span class="pre">g</span></code> objects
will not be available and blueprint’s context processors are not
called.</p></li>
<li><p>The config object is now available to the template as a real global and
not through a context processor which makes it available even in imported
templates by default.</p></li>
<li><p>Added an option to generate non-ascii encoded JSON which should result
in less bytes being transmitted over the network.  It’s disabled by
default to not cause confusion with existing libraries that might expect
<code class="docutils literal notranslate"><span class="pre">flask.json.dumps</span></code> to return bytestrings by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.g</span></code> is now stored on the app context instead of the request
context.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.g</span></code> now gained a <code class="docutils literal notranslate"><span class="pre">get()</span></code> method for not erroring out on non
existing items.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.g</span></code> now can be used with the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator to see what’s defined
and it now is iterable and will yield all attributes stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flask.Flask.request_globals_class</span></code> got renamed to
<code class="docutils literal notranslate"><span class="pre">flask.Flask.app_ctx_globals_class</span></code> which is a better name to what it
does since 0.10.</p></li>
<li><p><cite>request</cite>, <cite>session</cite> and <cite>g</cite> are now also added as proxies to the template
context which makes them available in imported templates.  One has to be
very careful with those though because usage outside of macros might
cause caching.</p></li>
<li><p>Flask will no longer invoke the wrong error handlers if a proxy
exception is passed through.</p></li>
<li><p>Added a workaround for chrome’s cookies in localhost not working
as intended with domain names.</p></li>
<li><p>Changed logic for picking defaults for cookie values from sessions
to work better with Google Chrome.</p></li>
<li><p>Added <cite>message_flashed</cite> signal that simplifies flashing testing.</p></li>
<li><p>Added support for copying of request contexts for better working with
greenlets.</p></li>
<li><p>Removed custom JSON HTTP exception subclasses.  If you were relying on them
you can reintroduce them again yourself trivially.  Using them however is
strongly discouraged as the interface was flawed.</p></li>
<li><p>Python requirements changed: requiring Python 2.6 or 2.7 now to prepare
for Python 3.3 port.</p></li>
<li><p>Changed how the teardown system is informed about exceptions.  This is now
more reliable in case something handles an exception halfway through
the error handling process.</p></li>
<li><p>Request context preservation in debug mode now keeps the exception
information around which means that teardown handlers are able to
distinguish error from success cases.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">JSONIFY_PRETTYPRINT_REGULAR</span></code> configuration variable.</p></li>
<li><p>Flask now orders JSON keys by default to not trash HTTP caches due to
different hash seeds between different workers.</p></li>
<li><p>Added <cite>appcontext_pushed</cite> and <cite>appcontext_popped</cite> signals.</p></li>
<li><p>The builtin run method now takes the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> into account when
picking the default port to run on.</p></li>
<li><p>Added <cite>flask.request.get_json()</cite> as a replacement for the old
<cite>flask.request.json</cite> property.</p></li>
</ul>
</div>
<div class="section" id="version-0-9">
<h2>Version 0.9<a class="headerlink" href="#version-0-9" title="永久链接至标题">¶</a></h2>
<p>Released on July 1st 2012, codename Campari.</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#flask.Request.on_json_loading_failed" title="flask.Request.on_json_loading_failed"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.Request.on_json_loading_failed()</span></code></a> now returns a JSON formatted
response by default.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.url_for()</span></code></a> function now can generate anchors to the
generated links.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.url_for()</span></code></a> function now can also explicitly generate
URL rules specific to a given HTTP method.</p></li>
<li><p>Logger now only returns the debug log setting if it was not set
explicitly.</p></li>
<li><p>Unregister a circular dependency between the WSGI environment and
the request object when shutting down the request.  This means that
environ <code class="docutils literal notranslate"><span class="pre">werkzeug.request</span></code> will be <code class="docutils literal notranslate"><span class="pre">None</span></code> after the response was
returned to the WSGI server but has the advantage that the garbage
collector is not needed on CPython to tear down the request unless
the user created circular dependencies themselves.</p></li>
<li><p>Session is now stored after callbacks so that if the session payload
is stored in the session you can still modify it in an after
request callback.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">flask.Flask</span></code></a> class will avoid importing the provided import name
if it can (the required first parameter), to benefit tools which build Flask
instances programmatically.  The Flask class will fall back to using import
on systems with custom module hooks, e.g. Google App Engine, or when the
import name is inside a zip archive (usually a .egg) prior to Python 2.7.</p></li>
<li><p>Blueprints now have a decorator to add custom template filters application
wide, <a class="reference internal" href="api.html#flask.Blueprint.app_template_filter" title="flask.Blueprint.app_template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Blueprint.app_template_filter()</span></code></a>.</p></li>
<li><p>The Flask and Blueprint classes now have a non-decorator method for adding
custom template filters application wide,
<a class="reference internal" href="api.html#flask.Flask.add_template_filter" title="flask.Flask.add_template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.add_template_filter()</span></code></a> and
<a class="reference internal" href="api.html#flask.Blueprint.add_app_template_filter" title="flask.Blueprint.add_app_template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Blueprint.add_app_template_filter()</span></code></a>.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.get_flashed_messages" title="flask.get_flashed_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.get_flashed_messages()</span></code></a> function now allows rendering flashed
message categories in separate blocks, through a <code class="docutils literal notranslate"><span class="pre">category_filter</span></code>
argument.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.Flask.run" title="flask.Flask.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.run()</span></code></a> method now accepts <code class="docutils literal notranslate"><span class="pre">None</span></code> for <cite>host</cite> and <cite>port</cite>
arguments, using default values when <code class="docutils literal notranslate"><span class="pre">None</span></code>.  This allows for calling run
using configuration values, e.g. <code class="docutils literal notranslate"><span class="pre">app.run(app.config.get('MYHOST'),</span>
<span class="pre">app.config.get('MYPORT'))</span></code>, with proper behavior whether or not a config
file is provided.</p></li>
<li><p>The <a class="reference internal" href="api.html#flask.render_template" title="flask.render_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.render_template()</span></code></a> method now accepts a either an iterable of
template names or a single template name.  Previously, it only accepted a
single template name.  On an iterable, the first template found is rendered.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.Flask.app_context" title="flask.Flask.app_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.app_context()</span></code></a> which works very similar to the
request context but only provides access to the current application.  This
also adds support for URL generation without an active request context.</p></li>
<li><p>View functions can now return a tuple with the first instance being an
instance of <a class="reference internal" href="api.html#flask.Response" title="flask.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">flask.Response</span></code></a>.  This allows for returning
<code class="docutils literal notranslate"><span class="pre">jsonify(error=&quot;error</span> <span class="pre">msg&quot;),</span> <span class="pre">400</span></code> from a view function.</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> and <a class="reference internal" href="api.html#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a> now provide a
<a class="reference internal" href="api.html#flask.Flask.get_send_file_max_age" title="flask.Flask.get_send_file_max_age"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_send_file_max_age()</span></code></a> hook for subclasses to override
behavior of serving static files from Flask when using
<a class="reference internal" href="api.html#flask.Flask.send_static_file" title="flask.Flask.send_static_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.send_static_file()</span></code></a> (used for the default static file
handler) and <code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code>.  This hook is provided a
filename, which for example allows changing cache controls by file extension.
The default max-age for <cite>send_file</cite> and static files can be configured
through a new <code class="docutils literal notranslate"><span class="pre">SEND_FILE_MAX_AGE_DEFAULT</span></code> configuration variable, which is
used in the default <cite>get_send_file_max_age</cite> implementation.</p></li>
<li><p>Fixed an assumption in sessions implementation which could break message
flashing on sessions implementations which use external storage.</p></li>
<li><p>Changed the behavior of tuple return values from functions.  They are no
longer arguments to the response object, they now have a defined meaning.</p></li>
<li><p>Added <code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.request_globals_class</span></code> to allow a specific class to
be used on creation of the <a class="reference internal" href="api.html#flask.g" title="flask.g"><code class="xref py py-data docutils literal notranslate"><span class="pre">g</span></code></a> instance of each request.</p></li>
<li><p>Added <cite>required_methods</cite> attribute to view functions to force-add methods
on registration.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.after_this_request" title="flask.after_this_request"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.after_this_request()</span></code></a>.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.stream_with_context" title="flask.stream_with_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.stream_with_context()</span></code></a> and the ability to push contexts
multiple times without producing unexpected behavior.</p></li>
</ul>
</div>
<div class="section" id="version-0-8-1">
<h2>Version 0.8.1<a class="headerlink" href="#version-0-8-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on July 1st 2012</p>
<ul class="simple">
<li><p>Fixed an issue with the undocumented <cite>flask.session</cite> module to not
work properly on Python 2.5.  It should not be used but did cause
some problems for package managers.</p></li>
</ul>
</div>
<div class="section" id="version-0-8">
<h2>Version 0.8<a class="headerlink" href="#version-0-8" title="永久链接至标题">¶</a></h2>
<p>Released on September 29th 2011, codename Rakija</p>
<ul class="simple">
<li><p>Refactored session support into a session interface so that
the implementation of the sessions can be changed without
having to override the Flask class.</p></li>
<li><p>Empty session cookies are now deleted properly automatically.</p></li>
<li><p>View functions can now opt out of getting the automatic
OPTIONS implementation.</p></li>
<li><p>HTTP exceptions and Bad Request errors can now be trapped so that they
show up normally in the traceback.</p></li>
<li><p>Flask in debug mode is now detecting some common problems and tries to
warn you about them.</p></li>
<li><p>Flask in debug mode will now complain with an assertion error if a view
was attached after the first request was handled.  This gives earlier
feedback when users forget to import view code ahead of time.</p></li>
<li><p>Added the ability to register callbacks that are only triggered once at
the beginning of the first request. (<a class="reference internal" href="api.html#flask.Flask.before_first_request" title="flask.Flask.before_first_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.before_first_request()</span></code></a>)</p></li>
<li><p>Malformed JSON data will now trigger a bad request HTTP exception instead
of a value error which usually would result in a 500 internal server
error if not handled.  This is a backwards incompatible change.</p></li>
<li><p>Applications now not only have a root path where the resources and modules
are located but also an instance path which is the designated place to
drop files that are modified at runtime (uploads etc.).  Also this is
conceptually only instance depending and outside version control so it’s
the perfect place to put configuration files etc.  For more information
see <a class="reference internal" href="config.html#instance-folders"><span class="std std-ref">Instance Folders</span></a>.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code> configuration variable.</p></li>
<li><p>Implemented <code class="xref py py-meth docutils literal notranslate"><span class="pre">session_transaction()</span></code> to
easily modify sessions from the test environment.</p></li>
<li><p>Refactored test client internally.  The <code class="docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code> configuration
variable as well as <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> are now properly used by the test client
as defaults.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.views.View.decorators" title="flask.views.View.decorators"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.views.View.decorators</span></code></a> to support simpler decorating of
pluggable (class-based) views.</p></li>
<li><p>Fixed an issue where the test client if used with the “with” statement did not
trigger the execution of the teardown handlers.</p></li>
<li><p>Added finer control over the session cookie parameters.</p></li>
<li><p>HEAD requests to a method view now automatically dispatch to the <cite>get</cite>
method if no handler was implemented.</p></li>
<li><p>Implemented the virtual <code class="xref py py-mod docutils literal notranslate"><span class="pre">flask.ext</span></code> package to import extensions from.</p></li>
<li><p>The context preservation on exceptions is now an integral component of
Flask itself and no longer of the test client.  This cleaned up some
internal logic and lowers the odds of runaway request contexts in unittests.</p></li>
</ul>
</div>
<div class="section" id="version-0-7-3">
<h2>Version 0.7.3<a class="headerlink" href="#version-0-7-3" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, release date to be decided</p>
<ul class="simple">
<li><p>Fixed the Jinja2 environment’s list_templates method not returning the
correct names when blueprints or modules were involved.</p></li>
</ul>
</div>
<div class="section" id="version-0-7-2">
<h2>Version 0.7.2<a class="headerlink" href="#version-0-7-2" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on July 6th 2011</p>
<ul class="simple">
<li><p>Fixed an issue with URL processors not properly working on
blueprints.</p></li>
</ul>
</div>
<div class="section" id="version-0-7-1">
<h2>Version 0.7.1<a class="headerlink" href="#version-0-7-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on June 29th 2011</p>
<ul class="simple">
<li><p>Added missing future import that broke 2.5 compatibility.</p></li>
<li><p>Fixed an infinite redirect issue with blueprints.</p></li>
</ul>
</div>
<div class="section" id="version-0-7">
<h2>Version 0.7<a class="headerlink" href="#version-0-7" title="永久链接至标题">¶</a></h2>
<p>Released on June 28th 2011, codename Grappa</p>
<ul class="simple">
<li><p>Added <a class="reference internal" href="api.html#flask.Flask.make_default_options_response" title="flask.Flask.make_default_options_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_default_options_response()</span></code></a>
which can be used by subclasses to alter the default
behavior for <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> responses.</p></li>
<li><p>Unbound locals now raise a proper <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(在 Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> instead
of an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(在 Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>.</p></li>
<li><p>Mimetype guessing and etag support based on file objects is now
deprecated for <a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.send_file()</span></code></a> because it was unreliable.
Pass filenames instead or attach your own etags and provide a
proper mimetype by hand.</p></li>
<li><p>Static file handling for modules now requires the name of the
static folder to be supplied explicitly.  The previous autodetection
was not reliable and caused issues on Google’s App Engine.  Until
1.0 the old behavior will continue to work but issue dependency
warnings.</p></li>
<li><p>fixed a problem for Flask to run on jython.</p></li>
<li><p>added a <code class="docutils literal notranslate"><span class="pre">PROPAGATE_EXCEPTIONS</span></code> configuration variable that can be
used to flip the setting of exception propagation which previously
was linked to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> alone and is now linked to either <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> or
<code class="docutils literal notranslate"><span class="pre">TESTING</span></code>.</p></li>
<li><p>Flask no longer internally depends on rules being added through the
<cite>add_url_rule</cite> function and can now also accept regular werkzeug
rules added to the url map.</p></li>
<li><p>Added an <cite>endpoint</cite> method to the flask application object which
allows one to register a callback to an arbitrary endpoint with
a decorator.</p></li>
<li><p>Use Last-Modified for static file sending instead of Date which
was incorrectly introduced in 0.6.</p></li>
<li><p>Added <cite>create_jinja_loader</cite> to override the loader creation process.</p></li>
<li><p>Implemented a silent flag for <cite>config.from_pyfile</cite>.</p></li>
<li><p>Added <cite>teardown_request</cite> decorator, for functions that should run at the end
of a request regardless of whether an exception occurred.  Also the behavior
for <cite>after_request</cite> was changed.  It’s now no longer executed when an exception
is raised.  See <a class="reference internal" href="upgrading.html#upgrading-to-new-teardown-handling"><span class="std std-ref">Upgrading to new Teardown Handling</span></a></p></li>
<li><p>Implemented <a class="reference internal" href="api.html#flask.has_request_context" title="flask.has_request_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.has_request_context()</span></code></a></p></li>
<li><p>Deprecated <cite>init_jinja_globals</cite>.  Override the
<a class="reference internal" href="api.html#flask.Flask.create_jinja_environment" title="flask.Flask.create_jinja_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_jinja_environment()</span></code></a> method instead to
achieve the same functionality.</p></li>
<li><p>Added <a class="reference internal" href="api.html#flask.safe_join" title="flask.safe_join"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.safe_join()</span></code></a></p></li>
<li><p>The automatic JSON request data unpacking now looks at the charset
mimetype parameter.</p></li>
<li><p>Don’t modify the session on <a class="reference internal" href="api.html#flask.get_flashed_messages" title="flask.get_flashed_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.get_flashed_messages()</span></code></a> if there
are no messages in the session.</p></li>
<li><p><cite>before_request</cite> handlers are now able to abort requests with errors.</p></li>
<li><p>it is not possible to define user exception handlers.  That way you can
provide custom error messages from a central hub for certain errors that
might occur during request processing (for instance database connection
errors, timeouts from remote resources etc.).</p></li>
<li><p>Blueprints can provide blueprint specific error handlers.</p></li>
<li><p>Implemented generic <a class="reference internal" href="views.html#views"><span class="std std-ref">可插拔视图</span></a> (class-based views).</p></li>
</ul>
</div>
<div class="section" id="version-0-6-1">
<h2>Version 0.6.1<a class="headerlink" href="#version-0-6-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on December 31st 2010</p>
<ul class="simple">
<li><p>Fixed an issue where the default <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> response was
not exposing all valid methods in the <code class="docutils literal notranslate"><span class="pre">Allow</span></code> header.</p></li>
<li><p>Jinja2 template loading syntax now allows “./” in front of
a template load path.  Previously this caused issues with
module setups.</p></li>
<li><p>Fixed an issue where the subdomain setting for modules was
ignored for the static folder.</p></li>
<li><p>Fixed a security problem that allowed clients to download arbitrary files
if the host server was a windows based operating system and the client
uses backslashes to escape the directory the files where exposed from.</p></li>
</ul>
</div>
<div class="section" id="version-0-6">
<h2>Version 0.6<a class="headerlink" href="#version-0-6" title="永久链接至标题">¶</a></h2>
<p>Released on July 27th 2010, codename Whisky</p>
<ul class="simple">
<li><p>after request functions are now called in reverse order of
registration.</p></li>
<li><p>OPTIONS is now automatically implemented by Flask unless the
application explicitly adds ‘OPTIONS’ as method to the URL rule.
In this case no automatic OPTIONS handling kicks in.</p></li>
<li><p>static rules are now even in place if there is no static folder
for the module.  This was implemented to aid GAE which will
remove the static folder if it’s part of a mapping in the .yml
file.</p></li>
<li><p>the <a class="reference internal" href="api.html#flask.Flask.config" title="flask.Flask.config"><code class="xref py py-attr docutils literal notranslate"><span class="pre">config</span></code></a> is now available in the templates
as <cite>config</cite>.</p></li>
<li><p>context processors will no longer override values passed directly
to the render function.</p></li>
<li><p>added the ability to limit the incoming request data with the
new <code class="docutils literal notranslate"><span class="pre">MAX_CONTENT_LENGTH</span></code> configuration value.</p></li>
<li><p>the endpoint for the <code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Module.add_url_rule()</span></code> method
is now optional to be consistent with the function of the
same name on the application object.</p></li>
<li><p>added a <a class="reference internal" href="api.html#flask.make_response" title="flask.make_response"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.make_response()</span></code></a> function that simplifies
creating response object instances in views.</p></li>
<li><p>added signalling support based on blinker.  This feature is currently
optional and supposed to be used by extensions and applications.  If
you want to use it, make sure to have <a class="reference external" href="https://pypi.org/project/blinker/">blinker</a> installed.</p></li>
<li><p>refactored the way URL adapters are created.  This process is now
fully customizable with the <a class="reference internal" href="api.html#flask.Flask.create_url_adapter" title="flask.Flask.create_url_adapter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_url_adapter()</span></code></a>
method.</p></li>
<li><p>modules can now register for a subdomain instead of just an URL
prefix.  This makes it possible to bind a whole module to a
configurable subdomain.</p></li>
</ul>
</div>
<div class="section" id="version-0-5-2">
<h2>Version 0.5.2<a class="headerlink" href="#version-0-5-2" title="永久链接至标题">¶</a></h2>
<p>Bugfix Release, released on July 15th 2010</p>
<ul class="simple">
<li><p>fixed another issue with loading templates from directories when
modules were used.</p></li>
</ul>
</div>
<div class="section" id="version-0-5-1">
<h2>Version 0.5.1<a class="headerlink" href="#version-0-5-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix Release, released on July 6th 2010</p>
<ul class="simple">
<li><p>fixes an issue with template loading from directories when modules
where used.</p></li>
</ul>
</div>
<div class="section" id="version-0-5">
<h2>Version 0.5<a class="headerlink" href="#version-0-5" title="永久链接至标题">¶</a></h2>
<p>Released on July 6th 2010, codename Calvados</p>
<ul class="simple">
<li><p>fixed a bug with subdomains that was caused by the inability to
specify the server name.  The server name can now be set with
the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> config key.  This key is now also used to set
the session cookie cross-subdomain wide.</p></li>
<li><p>autoescaping is no longer active for all templates.  Instead it
is only active for <code class="docutils literal notranslate"><span class="pre">.html</span></code>, <code class="docutils literal notranslate"><span class="pre">.htm</span></code>, <code class="docutils literal notranslate"><span class="pre">.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">.xhtml</span></code>.
Inside templates this behavior can be changed with the
<code class="docutils literal notranslate"><span class="pre">autoescape</span></code> tag.</p></li>
<li><p>refactored Flask internally.  It now consists of more than a
single file.</p></li>
<li><p><a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">flask.send_file()</span></code></a> now emits etags and has the ability to
do conditional responses builtin.</p></li>
<li><p>(temporarily) dropped support for zipped applications.  This was a
rarely used feature and led to some confusing behavior.</p></li>
<li><p>added support for per-package template and static-file directories.</p></li>
<li><p>removed support for <cite>create_jinja_loader</cite> which is no longer used
in 0.5 due to the improved module support.</p></li>
<li><p>added a helper function to expose files from any directory.</p></li>
</ul>
</div>
<div class="section" id="version-0-4">
<h2>Version 0.4<a class="headerlink" href="#version-0-4" title="永久链接至标题">¶</a></h2>
<p>Released on June 18th 2010, codename Rakia</p>
<ul class="simple">
<li><p>added the ability to register application wide error handlers
from modules.</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.after_request" title="flask.Flask.after_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">after_request()</span></code></a> handlers are now also invoked
if the request dies with an exception and an error handling page
kicks in.</p></li>
<li><p>test client has the ability to preserve the request context
for a little longer.  This can also be used to trigger custom
requests that do not pop the request stack for testing.</p></li>
<li><p>because the Python standard library caches loggers, the name of
the logger is configurable now to better support unittests.</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">TESTING</span></code> switch that can activate unittesting helpers.</p></li>
<li><p>the logger switches to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> mode now if debug is enabled.</p></li>
</ul>
</div>
<div class="section" id="version-0-3-1">
<h2>Version 0.3.1<a class="headerlink" href="#version-0-3-1" title="永久链接至标题">¶</a></h2>
<p>Bugfix release, released on May 28th 2010</p>
<ul class="simple">
<li><p>fixed a error reporting bug with <a class="reference internal" href="api.html#flask.Config.from_envvar" title="flask.Config.from_envvar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Config.from_envvar()</span></code></a></p></li>
<li><p>removed some unused code from flask</p></li>
<li><p>release does no longer include development leftover files (.git
folder for themes, built documentation in zip and pdf file and
some .pyc files)</p></li>
</ul>
</div>
<div class="section" id="version-0-3">
<h2>Version 0.3<a class="headerlink" href="#version-0-3" title="永久链接至标题">¶</a></h2>
<p>Released on May 28th 2010, codename Schnaps</p>
<ul class="simple">
<li><p>added support for categories for flashed messages.</p></li>
<li><p>the application now configures a <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Handler" title="(在 Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></a> and will
log request handling exceptions to that logger when not in debug
mode.  This makes it possible to receive mails on server errors
for example.</p></li>
<li><p>added support for context binding that does not require the use of
the with statement for playing in the console.</p></li>
<li><p>the request context is now available within the with statement making
it possible to further push the request context or pop it.</p></li>
<li><p>added support for configurations.</p></li>
</ul>
</div>
<div class="section" id="version-0-2">
<h2>Version 0.2<a class="headerlink" href="#version-0-2" title="永久链接至标题">¶</a></h2>
<p>Released on May 12th 2010, codename Jägermeister</p>
<ul class="simple">
<li><p>various bugfixes</p></li>
<li><p>integrated JSON support</p></li>
<li><p>added <a class="reference internal" href="api.html#flask.get_template_attribute" title="flask.get_template_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_template_attribute()</span></code></a> helper function.</p></li>
<li><p><a class="reference internal" href="api.html#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a> can now also register a
view function.</p></li>
<li><p>refactored internal request dispatching.</p></li>
<li><p>server listens on 127.0.0.1 by default now to fix issues with chrome.</p></li>
<li><p>added external URL support.</p></li>
<li><p>added support for <a class="reference internal" href="api.html#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a></p></li>
<li><p>module support and internal request handling refactoring
to better support pluggable applications.</p></li>
<li><p>sessions can be set to be permanent now on a per-session basis.</p></li>
<li><p>better error reporting on missing secret keys.</p></li>
<li><p>added support for Google Appengine.</p></li>
</ul>
</div>
<div class="section" id="version-0-1">
<h2>Version 0.1<a class="headerlink" href="#version-0-1" title="永久链接至标题">¶</a></h2>
<p>First public preview release.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/flask-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Flask 更新日志</a><ul>
<li><a class="reference internal" href="#version-1-1">Version 1.1</a></li>
<li><a class="reference internal" href="#version-1-0-3">Version 1.0.3</a></li>
<li><a class="reference internal" href="#version-1-0-2">Version 1.0.2</a></li>
<li><a class="reference internal" href="#version-1-0-1">Version 1.0.1</a></li>
<li><a class="reference internal" href="#version-1-0">Version 1.0</a></li>
<li><a class="reference internal" href="#version-0-12-4">Version 0.12.4</a></li>
<li><a class="reference internal" href="#version-0-12-3">Version 0.12.3</a></li>
<li><a class="reference internal" href="#version-0-12-2">Version 0.12.2</a></li>
<li><a class="reference internal" href="#version-0-12-1">Version 0.12.1</a></li>
<li><a class="reference internal" href="#version-0-12">Version 0.12</a></li>
<li><a class="reference internal" href="#version-0-11-2">Version 0.11.2</a></li>
<li><a class="reference internal" href="#version-0-11-1">Version 0.11.1</a></li>
<li><a class="reference internal" href="#version-0-11">Version 0.11</a></li>
<li><a class="reference internal" href="#version-0-10-2">Version 0.10.2</a></li>
<li><a class="reference internal" href="#version-0-10-1">Version 0.10.1</a></li>
<li><a class="reference internal" href="#version-0-10">Version 0.10</a></li>
<li><a class="reference internal" href="#version-0-9">Version 0.9</a></li>
<li><a class="reference internal" href="#version-0-8-1">Version 0.8.1</a></li>
<li><a class="reference internal" href="#version-0-8">Version 0.8</a></li>
<li><a class="reference internal" href="#version-0-7-3">Version 0.7.3</a></li>
<li><a class="reference internal" href="#version-0-7-2">Version 0.7.2</a></li>
<li><a class="reference internal" href="#version-0-7-1">Version 0.7.1</a></li>
<li><a class="reference internal" href="#version-0-7">Version 0.7</a></li>
<li><a class="reference internal" href="#version-0-6-1">Version 0.6.1</a></li>
<li><a class="reference internal" href="#version-0-6">Version 0.6</a></li>
<li><a class="reference internal" href="#version-0-5-2">Version 0.5.2</a></li>
<li><a class="reference internal" href="#version-0-5-1">Version 0.5.1</a></li>
<li><a class="reference internal" href="#version-0-5">Version 0.5</a></li>
<li><a class="reference internal" href="#version-0-4">Version 0.4</a></li>
<li><a class="reference internal" href="#version-0-3-1">Version 0.3.1</a></li>
<li><a class="reference internal" href="#version-0-3">Version 0.3</a></li>
<li><a class="reference internal" href="#version-0-2">Version 0.2</a></li>
<li><a class="reference internal" href="#version-0-1">Version 0.1</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="upgrading.html" title="上一章">升级到较新版本</a>
          <li>Next: <a href="license.html" title="下一章">执照</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2010 Pallets Team.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.0+/86bf9dca 创建。
    </div>

  </body>
</html>